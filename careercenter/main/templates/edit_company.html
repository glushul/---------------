{% extends "layout.html" %}
{% load static %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-9">
      <div class="bg-white rounded-3 shadow-sm border p-4 p-md-5">
        <h1 class="h3 fw-bold mb-4">
          {% if v.id %}Редактирование вакансии{% else %}Создание вакансии{% endif %}
        </h1>

        <form method="post" enctype="multipart/form-data" novalidate>
          {% csrf_token %}

          <div class="mb-4">
            <label class="form-label">Название</label>
            {{ company_form.name }}
            {% if company_form.name.errors %}<div class="text-danger small">{{ company_form.name.errors }}</div>{% endif %}
          </div>

          <div class="mb-4">
            <label class="form-label">Описание</label>
            {{ company_form.description }}
            {% if company_form.description.errors %}<div class="text-danger small">{{ company_form.description.errors }}</div>{% endif %}
          </div>

          <div class="mb-4">
            <label class="form-label">Индустрия</label>
            {{ company_form.industry }}
            {% if company_form.industry.errors %}<div class="text-danger small">{{ company_form.industry.errors }}</div>{% endif %}
          </div>

          <div class="mb-4">
            <label class="form-label">Логотип компании</label>
            {% if company_form.logo.value %}
              <div class="mb-2">
                <img src="{{ form.logo.value.url }}" alt="Логотип" class="img-thumbnail" style="max-height: 120px; object-fit: contain;">
              </div>
            {% endif %}
            {{ company_form.logo }}
            {% if company_form.logo.errors %}
              <div class="text-danger small">{{ company_form.logo.errors }}</div>
            {% endif %}
            <div class="form-text">Поддерживаются JPG, PNG. Макс. размер — 2 МБ.</div>
          </div>

          <hr>

          <h5>Добавить пользователя компании</h5>
          <div class="mb-4">
            <label class="form-label">Email:</label>
            {{ user_form.email }}
            {% if user_form.email.errors %}<div class="text-danger small">{{ user_form.email.errors }}</div>{% endif %}
          </div>

          <div class="mb-3">
            <label>Пароль:</label>
            {{ user_form.password }}
            {% if user_form.password.errors %}<div class="text-danger small">{{ user_form.password.errors }}</div>{% endif %}
          </div>

          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary px-4">
              {% if company.id %}Сохранить{% else %}Создать{% endif %}
            </button>
            <a href="/companies" class="btn btn-outline-secondary">Отмена</a>
          </div>            
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}